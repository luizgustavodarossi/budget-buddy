<div class="d-flex justify-content-between py-3">
  <h2><%= @categories.model_name.human.pluralize %></h2>

  <div class="d-flex align-self-center gap-1">
    <%= link_to new_category_path, title: "New", class: 'btn btn-primary' do %>
      <i class="bi bi-plus"></i>
    <% end %>

     <div class="dropdown">
      <button class="btn btn-secondary" data-bs-toggle="dropdown">
        <i class="bi bi-three-dots-vertical"></i>
      </button>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="#">Action</a></li>
        <li><a class="dropdown-item" href="#">Another action</a></li>
        <li><a class="dropdown-item" href="#">Something else here</a></li>
      </ul>
    </div>
  </div>
</div>

<div class="row justify-content-end align-items-end mb-4">
  <div class="col">
    <%== pagy_info(@pagy) %>
  </div>  
  <div class="col-md-4">
    <%= form_with method: :get, url: categories_path, include_hidden: false, class: "form-inline" do |f| %>
      <div class="d-flex ">
        <%= f.text_field :search, value: params[:search], class: "form-control mx-2", placeholder: "Search..." %>
        <%= f.submit "Search", name: nil, class: "btn btn-outline-secondary" %>
      </div>
    <% end %>
  </div>
</div>

<% if @categories.empty? %>
  <div class="alert alert-info" role="alert">
    No <%= @categories.model_name.human.pluralize %> found.
  </div>
<% else %>
  <div class="row">
    <table class="table table-striped">
      <thead class="table-bordered">
        <tr>
          <th>Name</th>
          <th>Kind</th>
          <th class="text-center" style="width: 200px;">Actions</th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        <% @categories.each do |category| %>
          <tr>
            <td><%= category.name %></td>
            <td>
              <span class="badge text-bg-<%= category.income? ? 'success' : 'danger' %>"><%= category.kind.humanize %></span>
            </td>
            <td class="d-flex justify-content-center gap-1">
              <%= link_to category, title: "Show", class: "btn btn-sm btn-info" do %>
                <i class="bi bi-eye"></i>
              <% end %>
              
              <%= link_to edit_category_path(category), title: "Edit", class: "btn btn-sm btn-primary" do %>
                <i class="bi bi-pencil"></i>
              <% end %>

              <%= link_to url_for(action: :destroy, id: category.id), 
                          data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'}, 
                          title: "Delete", 
                          class: "btn btn-sm btn-danger" do %>
                <i class="bi bi-trash"></i>
              <% end %>

              <div class="dropdown">
                <button class="btn btn-sm btn-secondary" data-bs-toggle="dropdown">
                  <i class="bi bi-three-dots-vertical"></i>
                </button>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <div class="row">
    <nav class="d-flex justify-content-center">
      <%== pagy_bootstrap_nav(@pagy) if @pagy.pages > 1 %>
    </nav>
  </div>
<% end %>

